# Local dev example
HTTP_ADDR=:8080
PUBLIC_BASE_URL=http://localhost:8080

# For local docker-compose this is provided via compose, but you can override
DATABASE_URL=postgres://karen:karen@localhost:5432/karen?sslmode=disable

# Twilio (required)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=replace_me

# Twilio Verify (for SMS OTP authentication)
TWILIO_VERIFY_SERVICE_SID=VAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

LOG_LEVEL=debug

# Voice AI Providers
DEEPGRAM_API_KEY=your_deepgram_api_key
OPENAI_API_KEY=your_openai_api_key
ELEVENLABS_API_KEY=your_elevenlabs_api_key

# STT Settings (optional)
# Deepgram endpointing in milliseconds (silence threshold for turn detection).
# Lower = faster turns but can fragment caller speech; higher = smoother but slower.
STT_ENDPOINTING_MS=1200

# Voice Settings (optional - defaults, can be overridden per tenant)
GREETING_TEXT=Dobrý den, prosím řekněte mi, o co se jedná.
TTS_VOICE_ID=  # ElevenLabs voice ID (leave empty for default)
TTS_STABILITY=0.5  # Voice stability 0.0-1.0 (lower = more expressive, higher = more consistent)
TTS_SIMILARITY=0.75  # Voice similarity boost 0.0-1.0 (higher = closer to original voice)

# JWT Authentication
JWT_SECRET=change-me-in-production
JWT_EXPIRY=24h

# Admin access (comma-separated phone numbers in E.164 format)
# Users with these phone numbers will have access to /admin/* endpoints
ADMIN_PHONES=+420777123456

# Error Monitoring (optional)
SENTRY_DSN=

# Discord Notifications (optional)
# Sends alerts when new users register or phone numbers run out
DISCORD_WEBHOOK_URL=

# AI Debug API (optional)
# API key for Claude CLI to remotely query call logs and update config
# Generate a secure random string (e.g., openssl rand -hex 32)
AI_DEBUG_API_KEY=

# Stripe Billing (required for monetization)
STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_BASIC_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_BASIC_ANNUAL=price_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PRO_MONTHLY=price_xxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PRICE_PRO_ANNUAL=price_xxxxxxxxxxxxxxxxxxxxxxxx
# Optional: Override checkout redirect URLs (defaults to PUBLIC_BASE_URL/billing/success and /billing/cancel)
# STRIPE_SUCCESS_URL=https://zvednu.cz/billing/success?session_id={CHECKOUT_SESSION_ID}
# STRIPE_CANCEL_URL=https://zvednu.cz/billing/cancel

# SMS Notifications (optional - configure via admin instead)
# The SMS sender number is primarily configured via global_config (sms_sender_number)
# through the admin page or AI Debug API. This env var is only used as an initial fallback.
# Configure via: PATCH /ai/config/sms_sender_number or UPDATE global_config SET value='...' WHERE key='sms_sender_number'
# SMS_SENDER_NUMBER=+420123456789

# APNs Push Notifications (optional - for iOS app)
APNS_KEY_PATH=/path/to/AuthKey_XXXXXXXXXX.p8
APNS_KEY_ID=XXXXXXXXXX
APNS_TEAM_ID=XXXXXXXXXX
APNS_BUNDLE_ID=cz.zvednu.app
APNS_PRODUCTION=false

# Trial Lifecycle Job (optional)
# Background job that sends trial conversion prompts and releases expired phone numbers
TRIAL_LIFECYCLE_JOB_ENABLED=true
TRIAL_LIFECYCLE_JOB_INTERVAL=1h

